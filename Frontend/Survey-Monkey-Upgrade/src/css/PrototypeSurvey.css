/* ===========================
   Home.css (UPDATED FULL)
   Copy/paste over your Home.css
   =========================== */

:root{
  --anim: 720ms;
  --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);
  --dist: 3.25rem;

  /* ✅ BIGGER stage = bigger inner card */
  --card-height: clamp(32rem, 62vh, 41rem);

  --max-width: 60rem;
  --gap: 1.5rem;

  --shelf-w: 22rem;
  --stage-w: 58rem; /* ✅ wider stage */
}

/* Page */
.homePage{
  min-height: 100vh;
  padding: 2rem;
  box-sizing: border-box;
  background: linear-gradient(135deg, 
    rgba(255, 20, 147, 0.28) 0%,
    rgba(138, 43, 226, 0.25) 20%,
    rgba(0, 191, 255, 0.28) 40%,
    rgba(50, 205, 50, 0.25) 60%,
    rgba(255, 215, 0, 0.28) 80%,
    rgba(255, 69, 0, 0.25) 100%);
  background-size: 400% 400%;
  animation: tiedyeGradient 15s ease infinite;
}

@keyframes tiedyeGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.homeLayout{
  max-width: var(--max-width);
  margin: 0 auto;
  display: grid;
  grid-template-columns: minmax(0, 1fr) var(--shelf-w);
  gap: var(--gap);
  align-items: start;
}

/* LEFT */
.surveyArea{
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ✅ Stage viewport is the "window" */
.stageViewport{
  height: var(--card-height);
  width: min(var(--stage-w), 100%);
  display: flex;
  align-items: stretch;   /* ✅ allow child to fill height */
  justify-content: center;

  overflow: hidden;
  border-radius: 2rem;
  
}

/* ✅ The animated wrapper (your slide in/out) */
.stageMotion{
  width: 100%;
  height: 100%;           /* ✅ fill stage height */
  display: flex;
  justify-content: center;
  align-items: stretch;   /* ✅ child fills height */

  will-change: transform, opacity, filter;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.stageViewport,
.shelfPanel{
  box-sizing: border-box;
}

/* =========================
   Animations (unchanged)
   ========================= */

/* NEXT */
.stageMotion.leaving.next{
  animation: swipeDown var(--anim) var(--ease-smooth) forwards;
}
.stageMotion.entering.next{
  animation: dropInFromTop var(--anim) var(--ease-smooth) forwards;
}

/* PREV */
.stageMotion.leaving.prev{
  animation: swipeUp var(--anim) var(--ease-smooth) forwards;
}
.stageMotion.entering.prev{
  animation: riseInFromBottom var(--anim) var(--ease-smooth) forwards;
}

@keyframes swipeDown{
  0%{ transform: translateY(0); opacity: 1; filter: blur(0px); }
  100%{ transform: translateY(var(--dist)); opacity: 0; filter: blur(2px); }
}

@keyframes dropInFromTop{
  0%{ transform: translateY(calc(-1 * var(--dist))); opacity: 0; filter: blur(2px); }
  100%{ transform: translateY(0); opacity: 1; filter: blur(0px); }
}

@keyframes swipeUp{
  0%{ transform: translateY(0); opacity: 1; filter: blur(0px); }
  100%{ transform: translateY(calc(-1 * var(--dist))); opacity: 0; filter: blur(2px); }
}

@keyframes riseInFromBottom{
  0%{ transform: translateY(var(--dist)); opacity: 0; filter: blur(2px); }
  100%{ transform: translateY(0); opacity: 1; filter: blur(0px); }
}

@media (prefers-reduced-motion: reduce){
  .stageMotion.leaving.next,
  .stageMotion.entering.next,
  .stageMotion.leaving.prev,
  .stageMotion.entering.prev{
    animation: none;
  }
  
  .homePage{
    animation: none;
  }
}

/* Actions */
.actions{
  width: min(var(--stage-w), 100%);
  margin-top: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.actionsRow{
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 0rem;
  gap: 1rem;
}

.navGroup{
  display: flex;
  gap: 0.75rem;
}

/* Buttons */
.btn{
  border: none;
  border-radius: 0.9rem;
  padding: 0.85rem 1.1rem;
  font-size: 1rem;
  cursor: pointer;
  transition: transform 160ms ease, filter 160ms ease, opacity 160ms ease;
}
.btn:active{ transform: translateY(0.08rem); }
.btn:disabled{ opacity: 0.55; cursor: not-allowed; }

.btn.primary{
  background: rgba(25, 25, 30, 0.92);
  color: rgba(255, 255, 255, 0.92);
}
.btn.secondary{
  background: rgba(255, 255, 255, 0.78);
  color: rgba(20, 20, 24, 0.92);
}
.btn:hover{ filter: brightness(1.06); }

/* RIGHT: Shelf */
.shelfPanel{
  height: var(--card-height);
  width: 100%;

  border-radius: 1.2rem;
  padding: 1rem;

  background: rgba(255, 255, 255, 0.78);
  border: 1px solid rgba(20, 20, 24, 0.12);
  backdrop-filter: blur(10px);

  display: flex;
  flex-direction: column;
  overflow: hidden;
  margin-left: 10rem;
}

.shelfHeader{
  padding-bottom: 0.75rem;
  border-bottom: 1px solid rgba(20, 20, 24, 0.10);
  margin-bottom: 0.9rem;
}

.shelfTitle{
  font-size: 1.05rem;
  font-weight: 700;
  color: rgba(20, 20, 24, 0.92);
}

.shelfMeta{
  margin-top: 0.25rem;
  font-size: 0.9rem;
  color: rgba(20, 20, 24, 0.62);
}

.shelfGrid{
  flex: 1;
  min-height: 0;
  overflow-y: auto;

  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.75rem;
  padding-right: 0.25rem;
}

.shelfItem{
  border-radius: 1rem;
  border: 1px solid rgba(20, 20, 24, 0.12);
  background: rgba(255, 255, 255, 0.65);
  padding: 0.65rem;
}

.shelfItemTop{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.shelfQ{
  font-size: 0.85rem;
  font-weight: 700;
  color: rgba(20, 20, 24, 0.85);
}

.shelfStatus{
  font-size: 0.78rem;
  color: rgba(20, 20, 24, 0.55);
}
.shelfStatus.done{ color: rgba(20, 20, 24, 0.78); }

.shelfThumb{
  border-radius: 0.9rem;
  overflow: hidden;
  border: 1px solid rgba(20, 20, 24, 0.10);
  background: rgba(0, 0, 0, 0.06);
}

.shelfThumb img{
  width: 100%;
  height: 4.6rem;
  object-fit: cover;
  display: block;
}

.shelfThumbEmpty{
  height: 4.6rem;
  display: grid;
  place-items: center;
  color: rgba(20, 20, 24, 0.45);
}

/* Responsive */
@media (max-width: 78rem){
  :root{ --shelf-w: 20rem; --stage-w: 56rem; }
}

@media (max-width: 62rem){
  .homeLayout{ grid-template-columns: 1fr; }
  .shelfPanel{ height: auto; overflow: visible; }
  .shelfGrid{ overflow: visible; grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

@media (max-width: 42rem){
  .homePage{ padding: 1.25rem; }
  .shelfGrid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

@media (max-width: 34rem){
  :root{ --card-height: clamp(32rem, 70vh, 44rem); }

  .shelfGrid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }

  .actionsRow{
    flex-direction: column;
    align-items: stretch;
  }
  .navGroup{ justify-content: center; }
}